

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Real-Time Kinematic Positioning &mdash; RoboFlock 1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=8f3c863a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=56dcb7b8"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Bibliography" href="../bibliography.html" />
    <link rel="prev" title="Rotations with Quaternions" href="quaternions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/Robo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial_docs/tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/cmakelists.html">Writing Custom CML Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/roboflock_topics.html">Using RoboFlock’s Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/rtk_gps.html">Setting up the RTK GPS System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/jetson_config.html">Setting up the Nvidia Jetson Orin Nano</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/init_dev.html">Initializing RoboFlock (Developers)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorial_docs/init_users.html">Initializing RoboFlock (Users)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_docs/hardware.html">Hardware Descriptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/jetson_devkit.html">Nvidia Jetson Orin Nano Super Developer Kit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/arduino.html">Arduino Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/rp_lidar.html">RPLIDAR A1M8 Laser Range Scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/hc_sr04.html">Ultrasonic Distance Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/imu.html">MPU-6050 Motion Tracking Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/neo_m8p.html">NEO-M8P-2 GNSS/GPS Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/zed_f9p.html">ZED-F9P-02B GNSS/GPS Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/hc_12.html">HC-12 Wireless Serial Port Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/esc.html">Brushed Electronic Speed Controller (ESC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/servo.html">Brushless Digital Servo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/brushed.html">3-Slot Brushed Motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware_docs/max_17048.html">MAX17048 Fuel Gauge and Battery Monitor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../description_docs/functionality.html">Functionality</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../description_docs/nvidia_jetson_orin_nano.html">NVIDIA Jetson Orin Nano</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../description_docs/interactions_with_the_surroundings.html">Interactions with the Surroundings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../description_docs/tracking.html">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../description_docs/software.html">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../description_docs/future_considerations.html">Future Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../construction_docs/construction.html">Constructing RoboFlock</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../construction_docs/constructing_the_roboflock.html">Step-by-Step Construction Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../construction_docs/chassis_design.html">Chassis Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../construction_docs/wiring_specifications.html">Wiring Specifications</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../additional_info.html">Additional Information</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mathref.html">Mathematics References</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="quaternions.html">Rotations with Quaternions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Real-Time Kinematic Positioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix_a.html">Appendix A</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix_b.html">Appendix B</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RoboFlock</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../additional_info.html">Additional Information</a></li>
          <li class="breadcrumb-item"><a href="mathref.html">Mathematics References</a></li>
      <li class="breadcrumb-item active">Real-Time Kinematic Positioning</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/citation_docs/mathref_docs/rtk.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="quaternions.html" class="btn btn-neutral float-left" title="Rotations with Quaternions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../bibliography.html" class="btn btn-neutral float-right" title="Bibliography" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="real-time-kinematic-positioning">
<h1>Real-Time Kinematic Positioning<a class="headerlink" href="#real-time-kinematic-positioning" title="Link to this heading"></a></h1>
<p>Reliable GPS data is a necessity for RoboFlock. Without it, the robot wouldn’t be able to find its user. Using the NEO-N8P and ZED-F9P GNSS modules, which have integrated RTK, we can obtain centimeter-level accuracy about the location of the robot and its user.</p>
<p>GNSS uses signals from multiple satellites that a receiver can use to pinpoint its location in 3D space through a process called <em>trilateration</em>. The receiver measures the ToF from any given satellite and then generates a copy of the signal. The amount of time required to align the signals, based on the receiver’s internal frequency, eventually produces the receiver’s <em>pseudorange observation</em>. We use the prefix <em>pseudo</em> because the data is still noisy and needs further processing.</p>
<p>The receiver also measures the the phase difference between the original signal and its copied version using a PLL. This is the receiver’s <em>carrier-phase measurement</em>. Since the signal has a very small wavelength, this measurement is more precise the the pseudorange observation.</p>
<p>Without combining these observations or correcting for error, we can mathematically represent the pseudorange, <span class="math notranslate nohighlight">\(P_{r,j}^{s}\)</span>, and the carrier-phase, <span class="math notranslate nohighlight">\(\Phi_{r,j}^{k}\)</span>, for receiver <span class="math notranslate nohighlight">\(r\)</span> and satellite <span class="math notranslate nohighlight">\(s\)</span> with frequency <span class="math notranslate nohighlight">\(f\)</span> at epoch <span class="math notranslate nohighlight">\(k\)</span> as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align} P_{r, j}^{s} (k) &amp;= \varrho_{r}^{s} (k, k - \delta) + cdt_{r}(k) - cdt^{2}(k - \delta) + D_{r, j}(k) \\ &amp;- d_{j}^{s} (k - \delta) + \mathcal{E}_{r,j}^{s} \\ \\ \Phi_{r,j}^{s} &amp;= \varrho_{r}^{s} (k, k - \delta) + cdt_{r}(k) - cdt^{2}(k - \delta) + B_{r, j}(k) \\ &amp;- b_{j}^{s} (k - \delta) + \lambda_{j}a_{r,j}^{s} + \mathcal{e}_{r,j}^{s} \end{align}\end{split}\]</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\varrho_{r}^{s}\)</span> is the satellite-to-receiver range (m),</p></li>
<li><p><span class="math notranslate nohighlight">\(c\)</span> is the speed of light in a vacuum (m/s),</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta\)</span> is the signal travel time (s),</p></li>
<li><p><span class="math notranslate nohighlight">\(dt_{r}\)</span> / <span class="math notranslate nohighlight">\(dt^{s}\)</span> is the receiver/satellite clock offset (s),</p></li>
<li><p><span class="math notranslate nohighlight">\(D_{r,j}\)</span> / <span class="math notranslate nohighlight">\(d_{j}^{s}\)</span> is the receiver/satellite code hardware delay (m),</p></li>
<li><p><span class="math notranslate nohighlight">\(B_{r,j}^{s}\)</span> / <span class="math notranslate nohighlight">\(b_{j}^{s}\)</span> is the receiver/satellite phase hardware delay (m),</p></li>
<li><p><span class="math notranslate nohighlight">\(\lambda_{j}\)</span> is the signal’s wavelength (m/cycle), and</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathcal{E}_{r,j}^{s}\)</span> / <span class="math notranslate nohighlight">\(\mathcal{e}_{r,j}^{s}\)</span> is a substitute for additional error factors, e.g. atmospheric delay, which have been condensed here for simplicity.</p></li>
</ul>
<p>All the different symbols may make these equations look complex, but they each describe exactly what was discussed above. Synchronization delay and ToF data, along with some physical constants like the speed of light and signal wavelength, are used to generate the values of the pseudorange and carrier-phase observations.</p>
<p>RTK uses a <em>double differenced (DD) operator</em>, which uses data between two satellites and two receivers to effectively eliminate error caused by hardware delays.</p>
<p>For a more in-depth discussion about the error factors, and GNSS RTK in general, check out “GNSS Real-Time Kinematic Positioning: Theory and Applications” (Li, 2025).</p>
<p class="colored-definitions"><strong>GNSS</strong> - Global Navigation Satellite System</p>
<p class="colored-definitions"><strong>RTK</strong> - Real-Time Kinematic</p>
<p class="colored-definitions"><strong>ToF</strong> - Time of Flight</p>
<p class="colored-definitions"><strong>PLL</strong> - Phase-Locked Loop</p>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<p>Li, Bofeng, et al. (2025). GNSS Real-Time Kinematic Positioning: Theory and Applications. Springer, 2025.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quaternions.html" class="btn btn-neutral float-left" title="Rotations with Quaternions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../bibliography.html" class="btn btn-neutral float-right" title="Bibliography" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Project RoboFlock.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>